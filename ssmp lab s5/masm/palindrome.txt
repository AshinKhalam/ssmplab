ASSUME CS:CODE, DS:DATA

DATA SEGMENT
     STRING1 DB "ABCDBA$"
     LEN EQU 6
     MSG1 DB " - STRING IS PALINDROME : $"
     MSG2 DB " - STRING IS NOT PALINDROME : $"
DATA ENDS

CODE SEGMENT
PRINTMSG MACRO MSG
      MOV DX, OFFSET MSG
      MOV AH,09H
      INT 21H
ENDM  

START:
      MOV AX,DATA
      MOV DS,AX
    
      PRINTMSG STRING1
      MOV SI,OFFSET STRING1
      MOV DI,OFFSET STRING1
      ADD DI,LEN
      DEC DI
      MOV CL,02H
      MOV AH, 00H
      MOV AL,LEN
      DIV CL
      MOV CL,AL
      
      CALL PALINDROME

    MOV AH,4CH
         INT 21H 

PALINDROME PROC
      AGAIN:  MOV AL,[SI]
	  CMP AL,[DI]
	  JNE NOTPAL
	  INC SI
	  DEC DI
	  LOOP AGAIN
      
      PRINTMSG MSG1
      JMP SKIP
  
      NOTPAL: PRINTMSG MSG2
   SKIP:   RET
PALINDROME ENDP
     
CODE ENDS
      END START